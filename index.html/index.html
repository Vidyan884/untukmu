<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HBD Tarisha Ramadhanty üíñ</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffe4ec, #fff4d9);
      margin: 0;
      padding: 0;
    }

    .login-container, .container {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .hidden { display: none; }

    h1 {
      text-align: center;
      font-size: 2.6em;
      color: #ff3e6c;
      margin-bottom: 20px;
    }

    .fade-enter {
      opacity: 0;
      transform: translateY(20px);
    }
    .fade-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: all 0.6s ease;
    }
    .fade-exit-active {
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.5s ease;
    }

    .login-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .login-step label {
      font-size: 1.1em;
      color: #666;
      font-weight: bold;
      margin-bottom: 5px;
      min-height: 24px;
    }

    .login-step input {
      width: 80%;
      max-width: 300px;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-size: 1em;
    }

    .login-step button {
      background-color: #ff3e6c;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 25px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 1.1em;
      transition: background-color 0.2s ease;
    }

    .login-step button:hover {
      background-color: #ff668d;
    }

    .login-message {
      text-align: center;
      color: red;
      margin-top: 15px;
      font-weight: bold;
    }

    h2 {
      text-align: center;
      font-size: 2em;
      color: #ff3e6c;
      margin-top: 30px;
      margin-bottom: 20px;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 20px;
    }

    .gallery img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .gallery img:hover {
      transform: scale(1.05);
    }

    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 10px;
      resize: none;
    }

    .messages {
      margin-top: 15px;
      max-height: 200px;
      overflow-y: auto;
    }

    .msg {
      background: #fff;
      padding: 8px 10px;
      border-radius: 8px;
      margin-bottom: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    footer {
      text-align: center;
      margin-top: 40px;
      font-size: 0.9em;
      color: #777;
    }

    .ucapan-otomatis {
      background: #fff5f8;
      border-radius: 15px;
      padding: 20px;
      margin-top: 20px;
      font-size: 1.1em;
      color: #444;
      line-height: 1.7;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }

    .auto-messages {
      background: #fffdfd;
      border-radius: 15px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .auto-messages p {
      margin: 8px 0;
      font-style: italic;
      color: #555;
    }
  </style>
</head>
<body>

  <!-- LOGIN -->
  <div class="login-container" id="loginPage">
    <h1>üéÇ Jangan Sampai Salah üéÇ</h1>
    <p style="text-align:center;color:#555;">Mari kita kenalan sebentar üíñ</p>

    <div class="login-step fade-enter-active" id="step1">
      <label for="namaPacarInput">Siapa nama pacarmu?</label>
      <input type="text" id="namaPacarInput" placeholder="Nama pacar saya...">
      <button onclick="nextStep(1)">Berikutnya</button>
      <p class="login-message" id="step1Message"></p>
    </div>

    <div class="login-step hidden" id="step2">
      <label for="usernameInput">Sekarang, siapa nama kamu?</label>
      <input type="text" id="usernameInput" placeholder="Nama saya...">
      <button onclick="nextStep(2)">Berikutnya</button>
      <p class="login-message" id="step2Message"></p>
    </div>

    <div class="login-step hidden" id="step3">
      <label for="birthdayInput">Kapan tanggal lahirmu?</label>
      <input type="date" id="birthdayInput">
      <button onclick="nextStep(3)">Masuk</button>
      <p class="login-message" id="step3Message"></p>
    </div>
  </div>

  <!-- MAIN PAGE -->
  <div class="container hidden" id="mainPage">
    <h1 id="titleUcapan"></h1>
    <p style="text-align:center;color:#555;" id="subtitleUcapan"></p>

    <div class="ucapan-otomatis">
      üíê <b>Selamat Ulang Tahun, Tarisha Ramadhanty!</b> üíê<br><br>
      Hari ini bukan cuma tentang bertambahnya umurmu, tapi juga tentang betapa berharganya kamu buatku.  
      Di setiap senyummu, aku selalu menemukan alasan untuk bersyukur, karena kamu adalah hadiah terindah yang pernah datang dalam hidupku.  
      <br><br>
      Semoga hari ini penuh dengan tawa, cinta, dan hal-hal kecil yang membuatmu bahagia.  
      Semoga semua impianmu satu per satu jadi nyata, dan dunia selalu berpihak pada hatimu yang lembut.  
      <br><br>
      <b>Selamat ulang tahun, sayang üíñ‚ú®</b><br>
      Aku akan selalu ada ‚Äî untuk mencintaimu hari ini, esok, dan selamanya üí´
    </div>

    <h2>Galeri Lucu üì∏</h2>
    <div class="gallery">
      <img src="foto1.jpeg" alt="foto1" onclick="tampilkanKata(0)">
      <img src="foto2.jpeg" alt="foto2" onclick="tampilkanKata(1)">
      <img src="foto3.jpeg" alt="foto3" onclick="tampilkanKata(2)">
    </div>

    <div id="pesanFoto" class="auto-messages hidden"></div>

    <div class="playlist">
      <h2>Playlist Spesial üé∂</h2>
      <audio id="bgMusic" controls loop>
        <source src="Lady Gaga, Bruno Mars - Die With A Smile.mp3" type="audio/mpeg">
      </audio>
    </div>

    <div class="messages-section">
      <h2>Ucapanku üíå</h2>

      <textarea id="messageInput" rows="4" placeholder="haloooo seblum baca ini jangan  lupa klick satu persatu fotomu itu yaaa hehehe, awas aja gak di baca. selamat ulang tahun sayang aku nulis ini ucapan ini dengan sepenuh hati, semoga sayanggku ini kedepanya makin baik lagi, sukses dunia akhirat, di lancarkan rezekinya, semoga yang di impikan tercapai semua, dan semoga porsce berada di garasi kamu suatu saat aamin. yaudah itu aja sihh yang bisa aku ucapin semoga doa - doa mu terkabulkan oleh Allah aaminnn. jangan oiyaa satu lagi loveeee youuuuu sayanggkuuuuuuuuuu"></textarea><br>
      <button onclick="addMessage()">Kirim</button>
      <div class="messages" id="messagesList"></div>
    </div>

    <footer>Made with üíï oleh <span id="namaFooter"></span> untuk seseorang yang spesial ‚ú®</footer>
  </div>

  <script>
    const loginData = {};
    const totalSteps = 3;
    let currentStep = 1;

    function nextStep(stepNum) {
      let valid = true;
      let msg = "";

      if (stepNum === 1) {
        const namaPacar = document.getElementById("namaPacarInput").value.trim();
        if (!namaPacar) { valid = false; msg = "Nama pacarmu tidak boleh kosong!"; }
        else loginData.namaPacar = namaPacar;
      } else if (stepNum === 2) {
        const namaKamu = document.getElementById("usernameInput").value.trim();
        if (!namaKamu) { valid = false; msg = "Nama kamu tidak boleh kosong!"; }
        else loginData.namaKamu = namaKamu;
      } else if (stepNum === 3) {
        const tgl = document.getElementById("birthdayInput").value;
        if (!tgl) { valid = false; msg = "Tanggal lahir kamu tidak boleh kosong!"; }
        else loginData.birthday = tgl;
      }

      const pesan = document.getElementById(`step${stepNum}Message`);
      if (!valid) {
        pesan.textContent = `‚ö†Ô∏è ${msg}`;
        return;
      }

      document.getElementById(`step${stepNum}`).classList.add("hidden");
      if (stepNum < totalSteps) {
        document.getElementById(`step${stepNum + 1}`).classList.remove("hidden");
      } else performLogin();
    }

    function performLogin() {
      localStorage.setItem("namaPacar", loginData.namaPacar);
      localStorage.setItem("namaKamu", loginData.namaKamu);

      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("mainPage").classList.remove("hidden");
      tampilkanUcapan();

      // üéµ Tambahan: otomatis mainkan lagu
      playMusic();
    }

    function playMusic() {
      const audio = document.getElementById("bgMusic");
      const playPromise = audio.play();
      if (playPromise !== undefined) {
        playPromise.catch(() => {
          console.log("Autoplay dicegah oleh browser, klik tombol play untuk mulai musik.");
        });
      }
    }

    function tampilkanUcapan() {
      const pacar = localStorage.getItem("namaPacar") || "Pacarku";
      const kamu = localStorage.getItem("namaKamu") || "Aku";
      document.getElementById("titleUcapan").innerHTML = `Selamat Ulang Tahun, ${pacar} üíñ`;
      document.getElementById("subtitleUcapan").innerHTML = `Dari seseorang yang selalu mencintaimu ‚Äî <b>${kamu}</b>`;
      document.getElementById("namaFooter").textContent = kamu;
    }

    // Pesan otomatis dari foto
    const pesanFoto = [
      "üì∏ haloo cantikk lagi ultah yaaa.... jangan lupa klick foto kedua ya.",
      "üåº panjang umur yaaa sayangg semoga gak emosian, wkwkowkwokwkwkwkwok.",
      "üíó aslinya gak perlu kata kata sihh tapi soalnya kamu baik hati ke aku, jadi aku kasih dong kata kata dengan sepenuh hati."
    ];

    function tampilkanKata(index) {
      const div = document.getElementById("pesanFoto");
      div.textContent = pesanFoto[index];
      div.classList.remove("hidden");
    }

    // Ucapan custom
    const messages = JSON.parse(localStorage.getItem("messages") || "[]");
    const list = document.getElementById("messagesList");

    function addMessage() {
      const input = document.getElementById("messageInput");
      if (!input.value.trim()) return;
      messages.unshift({ text: input.value, time: new Date().toLocaleString() });
      localStorage.setItem("messages", JSON.stringify(messages));
      input.value = "";
      renderMessages();
    }

    function renderMessages() {
      list.innerHTML = messages
        .map(m => `<div class='msg'><b>${localStorage.getItem("namaKamu") || "Anon"}:</b> ${m.text}<br><small>${m.time}</small></div>`)
        .join("");
    }
    renderMessages();
  </script>
</body>
</html>
